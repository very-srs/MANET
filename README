Overview

This release is the basis for a portable, self-configuring, and
resilient network node designed for infrastructure-free team communications.
The system uses a B.A.T.M.A.N.-adv mesh network over dual-band Wi-Fi (802.11ax).

The mesh currently provides the following services:

Internet gateway - any node connected to the internet will become a possible
gateway node.  Multiple gateways may be plugged in and the mesh nodes will
select the one they can reach with the best link quality.

Decentralized IPv4 addressing provides routable private IPs without DHCP in a
user defined CIDR range or any size.

The design creates a single, unified network segment. Node discovery uses
systemd-resolved (mDNS), and inter-node coordination relies heavily on alfred
with Protobuf messaging.


Key Components

I. Hardware Interfaces

Dual-Band Wi-Fi (wlan0, wlan1): Two 802.11ax interfaces (2.4/5 GHz) configured
for mesh mode provide redundant, high-performance links.  If a wireless
network card with a single interface is used, it will default to one 2.4 ghz
link without any changes being needed.

Ethernet (end0): Used for initial setup and internet gateway access.  

II. Virtual Interfaces & Configuration

bat0 (Mesh Interface): wlan0 and wlan1 are enslaved via a 
systemd service (batman-if-setup.sh). B.A.T.M.A.N.-adv runs on bat0,
using TQ metrics to optimize routing over the best Wi-Fi path.

br0 (Unified Bridge): bat0 is bridged into br0. 

IPv6: br0 receives its primary address via SLAAC from radvd
advertisements (fd5a:1753:4340:1::/64).

IPv4: br0 receives a routable private address assigned by the decentralized 
node-manager.sh service.

III. Core Functionality

IPv6 Autoconfiguration: radvd provides SLAAC configuration for the
ULA prefix fd5a:1753:4340:1::/64. Gateway nodes dynamically adjust
advertisements using networkd-dispatcher.

Decentralized IPv4: The node-manager.sh service uses alfred and Protobuf
messages to coordinate conflict-free assignment ofaddresses, avoiding DHCP.

Node Discovery: Hostname discovery (radio-xxxx.local) is handled by
systemd-resolved using mDNS over the mesh.

Node Status Gossip: The node-manager.sh service on each node
periodically gathers status (TQ, gateway status, service roles, IPv4, etc.),
encodes it into a Protobuf message, and distributes it mesh-wide using
alfred. This data fuels all election protocols.

Internet Gateway: Nodes with internet access via end0 automatically
promote themselves using networkd-dispatcher. They enable NAT (nftables),
advertise themselves via batctl gw_mode server, and update radvd.

